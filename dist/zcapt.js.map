{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./index.js","webpack:///./node_modules/js-base64/base64.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/initialize/buildCaptchaInPage.js","webpack:///./src/initialize/initialize.js","webpack:///./src/initialize/reinitialize.js","webpack:///./src/model/data.js","webpack:///./src/movement_tracing/elementDistanceToScreen.js","webpack:///./src/movement_tracing/fingerTracing.js","webpack:///./src/movement_tracing/mouseTracing.js","webpack:///./src/request/initialize.js","webpack:///./src/request/verify.js","webpack:///./src/view/appearAndDisappear.js","webpack:///./src/view/elementMove.js","webpack:///./src/view/initialize.js","webpack:///./src/view/loading.js","webpack:///./src/view/rebuilt.js","webpack:///./src/view/renewImage.js","webpack:///./src/view/verified.js"],"names":["window","zcapt","start","para","callback","onverified","id","undefined","conn","require","init","data","isVerified","result","exports","building","rebuild","smallPictureLink","smallPicture","authID","largePictureLink","largePicture","startMouseMonitor","buildCaptcha","Base64","buildFrame","links","JSON","parse","decode","initialize","large","small","verify","veri","e","console","log","renewCaptcha","smallPictureInitialPositionX","smallPictureInitialPositionY","distance","element","pictureTop","getBoundingClientRect","top","pictureLeft","left","pictureRight","offsetWidth","pictureBottom","offsetHeight","right","bottom","startFingerMonitor","smallPictureID","largePictureID","smallPic","document","getElementById","largePic","ontouchstart","ontouchdownEvent","preventDefault","offsetLeft","offsetTop","distanceXFromCentralMouseToSmallPictureBorder","touches","clientX","distanceYFromCentralMouseToSmallPictureBorder","clientY","ontouchmove","style","ontouchend","onTouchEndEvent","largePictureDistanceToScreen","xCoordinate","Math","round","yCoordinate","changedTouches","loading","verifyResult","verified","move","captcha","onmousedown","onmouseDownEvent","onmousemove","onmouseMoveEvent","onmouseup","onmouseUpEvent","initLink","req","XMLHttpRequest","open","send","addEventListener","status","response","responseText","url","x","y","request","requestURL","disappear","classList","contains","startDisappear","add","parentNode","removeChild","appear","remove","moveToX","moveToY","startX","startY","deltaX","deltaY","moveElementRight","requestAnimationFrame","moveElementLeft","moveElementDown","moveElementUp","boxid","outer","createElement","setAttribute","onselectstart","appendChild","smallPicUrl","largePicUrl","appearAndDisappear","numberOfLoaded","Image","draggable","src","onload","loadedCheck","refreshTag","refreshImg","createElementNS","innerHTML","onclick","everything","fragment","createDocumentFragment","end","loadingLayer","className","setTimeout","refreshIcon","animation","size","frame","verifiedLayer","verifiedIcon"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACAA,MAAM,CAACC,KAAP,GAAe;AACXC,OAAK,EAAE,eAACC,IAAD,EAA8B;AAAA,QAAxBC,QAAwB,uEAAb,YAAM,CAAE,CAAK;AACjCJ,UAAM,CAACC,KAAP,CAAaI,UAAb,GAA0BD,QAA1B,CADiC,CAGjC;;AACA,QAAID,IAAI,CAACG,EAAL,KAAYC,SAAZ,IAAyBJ,IAAI,CAACK,IAAL,KAAcD,SAA3C,EAAsD;AAClD,aAAO,IAAP;AACH;;AACD,QAAIJ,IAAI,CAACG,EAAL,KAAY,IAAZ,IAAoBH,IAAI,CAACK,IAAL,KAAc,IAAtC,EAA4C;AACxC,aAAO,IAAP;AACH,KATgC,CAWjC;;;AACAC,uBAAO,CAAC,mEAAD,CAAP,CAAuCC,IAAvC,CAA4CP,IAAI,CAACG,EAAjD,EAAoDH,IAAI,CAACK,IAAzD;AACH,GAdU;AAgBX;AACAG,MAAI,EAACF,mBAAO,CAAC,6CAAD,CAjBD;AAmBX;AACAG,YAAU,EAAE,sBAAM;AACd,QAAIZ,MAAM,CAACC,KAAP,CAAaU,IAAb,CAAkBE,MAAlB,KAA6BN,SAAjC,EAA4C;AACxC,aAAOP,MAAM,CAACC,KAAP,CAAaU,IAAb,CAAkBE,MAAlB,KAA6B,CAApC;AACH,KAFD,MAEK;AACD,aAAO,KAAP;AACH;AACJ;AA1BU,CAAf,C;;;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,IAAI,KAA4D;AAChE;AACA,UAAU,SACiC;AAC3C,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,iCAAiC;AACjC;AACA;AACA;AACA,gCAAgC,EAAE;AAClC,gCAAgC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iCAAiC,IAAI;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,qDAAqD,+BAA+B;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AA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","file":"zcapt.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n","// The entrance\nwindow.zcapt = {\n    start: (para,callback = () => {}) => {\n        window.zcapt.onverified = callback;\n\n        // Nothing to do if no or lack of params\n        if (para.id === undefined || para.conn === undefined) {\n            return null;\n        }\n        if (para.id === null || para.conn === null) {\n            return null;\n        }\n\n        // Start initialization\n        require('./src/initialize/initialize').init(para.id,para.conn);\n    },\n\n    // Model data storage\n    data:require('./src/model/data'),\n\n    // API for getting the result of captcha.\n    isVerified: () => {\n        if (window.zcapt.data.result !== undefined) {\n            return window.zcapt.data.result === 1;\n        }else{\n            return false;\n        }\n    }\n};","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    var _Base64 = global.Base64;\n    var version = \"2.4.9\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/[\\s\\S]{1,4}/g, cb_decode);\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","exports.building = (rebuild = false)=>{\n    /*\n    * Method for building the captcha in DOM\n    * */\n    let smallPictureLink = window.zcapt.data.smallPicture + \"?authID=\" +  window.zcapt.data.authID;\n    let largePictureLink = window.zcapt.data.largePicture + \"?authID=\" +  window.zcapt.data.authID;\n\n    if (rebuild) {\n        require('../view/renewImage').rebuild(smallPictureLink,largePictureLink,() => {\n            // Start mouse tracking\n            require('../movement_tracing/mouseTracing').startMouseMonitor(\"zcapt-smallPic\",\"zcapt-largePic\");\n        });\n    }else {\n        // Add elements to DOM\n        require('../view/initialize').buildCaptcha(smallPictureLink,largePictureLink,() => {\n            // Start mouse tracking\n            require('../movement_tracing/mouseTracing').startMouseMonitor(\"zcapt-smallPic\",\"zcapt-largePic\");\n        });\n    }\n};\n","let Base64 = require('js-base64').Base64;\nexports.init = (id,conn) => {\n    /**\n     * Method for initialize the captcha\n     * @para id element's id where the captcha would be made.\n     * @para conn connection code from server side.\n     * @para size the width of the captcha that would be created.\n     * no callback function\n     */\n    require('../view/initialize').buildFrame(id);  // Start Loading\n    // Parse the links\n    try {\n        let links = JSON.parse(Base64.decode(conn));\n        // Assign all the links to model data\n        window.zcapt.data.conn = conn;\n        window.zcapt.data.initialize = links.init;\n        window.zcapt.data.largePicture = links.large;\n        window.zcapt.data.smallPicture = links.small;\n        window.zcapt.data.verify = links.veri;\n        window.zcapt.data.id = id;\n        window.zcapt.data.result = 0;\n    }catch (e) {\n        // If error in \"conn\" parameter\n        console.log(\"Conn is incorrect\");\n        return null;\n    }\n    // Requesting to server to get authID\n    require('../request/initialize').init(window.zcapt.data.initialize,(authID) => {\n        if (authID === null) {\n            console.log(\"Error when requesting to server\");\n            return null;\n        } else {\n            window.zcapt.data.authID = authID;\n\n            // Start to building the captcha\n            require('./buildCaptchaInPage').building();\n        }\n    });\n};","exports.renewCaptcha = () => {\n    // Requesting to server to get a new authID\n    require('../request/initialize').init(window.zcapt.data.initialize,(authID) => {\n        if (authID === null) {\n            console.log(\"Error when requesting to server\");\n            return null;\n        } else {\n            window.zcapt.data.authID = authID;\n\n            // Start to building the captcha\n            require('./buildCaptchaInPage').building(true);\n        }\n    });\n};","// Those are the data that would store in font end\n\n// Initialize Link\nexports.initialize = \"\";\n\n// Link for large picture\nexports.largePicture = \"\";\n\n// Link for small picture\nexports.smallPicture = \"\";\n\n// Link for verification\nexports.verify = \"\";\n\n// Link for element's id that the zcapt would be created\nexports.id = \"\";\n\n// Verification ID\nexports.authID = \"\";\n\n// Small picture initial position in X\nexports.smallPictureInitialPositionX = 0;\n\n// Small picture initial position in Y\nexports.smallPictureInitialPositionY = 0;\n\n// verified?\nexports.isVerified = false;","exports.distance = (element) => {\n    /*\n    * Get the element's current distance between the border of element to the border of screen.\n    * @param picture is the element which you wana to get the distance between the element's border and the screen's border.\n    * @return The function would return an object with top, left, right, bottom\n    * */\n    let pictureTop = element.getBoundingClientRect().top;\n    let pictureLeft = element.getBoundingClientRect().left;\n    let pictureRight = pictureLeft + element.offsetWidth;\n    let pictureBottom = pictureTop + element.offsetHeight;\n    return {\n        top: pictureTop,\n        left: pictureLeft,\n        right: pictureRight,\n        bottom: pictureBottom\n    }\n}","exports.startFingerMonitor = (smallPictureID,largePictureID) => {\n    /*\n    * Method for finger touchpoint monitor\n    * @param smallPictureID Small picture's element ID\n    * @param largePictureID Large picture's element ID\n    * */\n    let smallPic = document.getElementById(smallPictureID);\n    let largePic = document.getElementById(largePictureID);\n\n\n    // While the user touch on small picture\n    smallPic.ontouchstart = (ontouchdownEvent) => {\n\n        // // While the finger is touching on the screen, preventDefault would disable scrolling.\n        ontouchdownEvent.preventDefault();\n\n\n        // Get the initial position of small picture\n        window.zcapt.data.smallPictureInitialPositionX = smallPic.offsetLeft;\n        window.zcapt.data.smallPictureInitialPositionY = smallPic.offsetTop;\n\n        // Get the position of finger inside the small picture\n        let distanceXFromCentralMouseToSmallPictureBorder = ontouchdownEvent.touches[0].clientX - smallPic.offsetLeft;\n        let distanceYFromCentralMouseToSmallPictureBorder = ontouchdownEvent.touches[0].clientY - smallPic.offsetTop;\n\n        // While the user touch on the small picture and move the mouse\n        document.ontouchmove = (ontouchmove) => {\n            smallPic.style.top = (ontouchmove.touches[0].clientY - distanceYFromCentralMouseToSmallPictureBorder) + \"px\";\n            smallPic.style.left = (ontouchmove.touches[0].clientX - distanceXFromCentralMouseToSmallPictureBorder) + \"px\";\n        };\n\n        // While the user release the mouse.\n        document.ontouchend = (onTouchEndEvent) => {\n\n            // Stop moving\n            document.ontouchmove = null;\n            let largePictureDistanceToScreen = require('./elementDistanceToScreen').distance(largePic);\n            // Get coordinate of small picture inside of large picture\n            let xCoordinate = Math.round(((smallPic.offsetLeft - largePic.offsetLeft) * 300) / largePic.offsetWidth);\n            let yCoordinate = Math.round(((smallPic.offsetTop - largePic.offsetTop) * 200) / largePic.offsetHeight);\n\n            if (onTouchEndEvent.changedTouches[0].clientY >  largePictureDistanceToScreen.top&& onTouchEndEvent.changedTouches[0].clientY < largePictureDistanceToScreen.bottom && onTouchEndEvent.changedTouches[0].clientX > largePictureDistanceToScreen.left && onTouchEndEvent.changedTouches[0].clientX < largePictureDistanceToScreen.right) {\n                require('../view/loading').loading.start();\n                smallPic.ontouchstart = null;\n                require('../request/verify').verify(window.zcapt.data.verify,window.zcapt.data.authID,xCoordinate,yCoordinate, (verifyResult) => {\n                    if (verifyResult) {\n                        window.zcapt.data.result = 1;\n                        require(\"../view/verified\").verified();\n                    }else {\n                        require('../view/elementMove').move(smallPic,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY);\n                        require('../view/rebuilt').captcha();\n                    }\n                })\n            }else {\n                require('../view/elementMove').move(smallPic,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY);\n            }\n        }\n    }\n};\n","exports.startMouseMonitor = (smallPictureID,largePictureID) => {\n    /*\n    * Method for mouse monitor\n    * @param smallPictureID Small picture's element ID\n    * @param largePictureID Large picture's element ID\n    * */\n\n    // Start Finger touch monitor\n    require(\"./fingerTracing\").startFingerMonitor(smallPictureID,largePictureID);\n\n    let smallPic = document.getElementById(smallPictureID);\n    let largePic = document.getElementById(largePictureID);\n\n\n    // While the user click on small picture\n    smallPic.onmousedown = (onmouseDownEvent) => {\n\n        // Get the initial position of small picture\n        window.zcapt.data.smallPictureInitialPositionX = smallPic.offsetLeft;\n        window.zcapt.data.smallPictureInitialPositionY = smallPic.offsetTop;\n\n        // Get the position of mouse inside the small picture\n        let distanceXFromCentralMouseToSmallPictureBorder = onmouseDownEvent.clientX - smallPic.offsetLeft;\n        let distanceYFromCentralMouseToSmallPictureBorder = onmouseDownEvent.clientY - smallPic.offsetTop;\n\n        // While the user click on the small picture and move the mouse\n        document.onmousemove = (onmouseMoveEvent) => {\n            smallPic.style.top = (onmouseMoveEvent.clientY - distanceYFromCentralMouseToSmallPictureBorder) + \"px\";\n            smallPic.style.left = (onmouseMoveEvent.clientX - distanceXFromCentralMouseToSmallPictureBorder) + \"px\";\n        };\n\n        // While the user release the mouseÂ·\n        document.onmouseup = (onmouseUpEvent) => {\n\n            // Stop moving\n            document.onmousemove = null;\n            let largePictureDistanceToScreen = require('./elementDistanceToScreen').distance(largePic);\n            // Get coordinate of small picture inside of large picture\n            let xCoordinate = Math.round(((smallPic.offsetLeft - largePic.offsetLeft) * 300) / largePic.offsetWidth);\n            let yCoordinate = Math.round(((smallPic.offsetTop - largePic.offsetTop) * 200) / largePic.offsetHeight);\n\n            if (onmouseUpEvent.clientY >  largePictureDistanceToScreen.top&& onmouseUpEvent.clientY < largePictureDistanceToScreen.bottom && onmouseUpEvent.clientX > largePictureDistanceToScreen.left && onmouseUpEvent.clientX < largePictureDistanceToScreen.right) {\n                require('../view/loading').loading.start();\n                smallPic.onmousedown = null;\n                require('../request/verify').verify(window.zcapt.data.verify,window.zcapt.data.authID,xCoordinate,yCoordinate, (verifyResult) => {\n                    if (verifyResult) {\n                        window.zcapt.data.result = 1;\n                        require(\"../view/verified\").verified();\n                    }else {\n                        require('../view/elementMove').move(smallPic,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY);\n                        require('../view/rebuilt').captcha();\n                    }\n                })\n            }else {\n                require('../view/elementMove').move(smallPic,window.zcapt.data.smallPictureInitialPositionX,window.zcapt.data.smallPictureInitialPositionY);\n            }\n        }\n    }\n};\n\n","/*\n* method init\n* @usage initialize the captcha by sending Get request to server side.\n* @para iniLink server side initialize link\n* @First parameter of callback function is the authID. If error, the parameter would be null\n* */\nexports.init = (initLink,callback) => {\n    let req = new XMLHttpRequest();\n    req.open(\"GET\",initLink,true);\n    req.send();\n    req.addEventListener(\"load\",() => {\n        if (req.status !== 200) {\n            callback(null);\n        }else {\n            let response = null;\n            try {\n                response = JSON.parse(req.responseText)\n            }catch (e) {\n                callback(null);\n            }\n            if (response.status === undefined) {\n                callback(null);\n            }else if (response.status != 0) {\n                callback(null);\n            }else {\n                // Normal\n                callback(response.authID);\n            }\n        }\n    });\n};\n","exports.verify = (url,authID,x,y,callback) => {\n    /**\n     * Function for verify the coordinate\n     * @param url requesting URL for verify\n     * @param authID the authID of captcha.\n     * @param x & y the x and y coordinate of small image in large picture\n     * @callback callback function\n     * The first parameter in callback function equals true if verified.\n     * Equals false if verified failure.\n     */\n     let request = new XMLHttpRequest();\n     let requestURL = url + \"?authID=\" + authID +\"&x=\" + x + \"&y=\" + y;\n     request.open(\"GET\",requestURL,true);\n     request.send();\n     request.addEventListener(\"load\",() => {\n         if (request.status !== 200) {\n             callback(false);\n         }else {\n             let result = false;\n             try {\n                 result = JSON.parse(request.responseText).status;\n             }catch (e) {\n                 callback(false);\n             }\n             if (result != 0) {\n                 callback(false);\n             } else {\n                 callback(true);\n             }\n         }\n     })\n};","exports.disappear = (element,callback = () =>{}) => {\n    /**\n     * Function to make things disappear gently\n     * @param element DOM element which is going to be deleted.\n     */\n\n    // Make sure that the element does have appearing animation\n    if (element.classList.contains(\"zcapt-appear\")) {\n        element.addEventListener(\"animationend\",startDisappear());\n    }else {\n        startDisappear();\n    }\n\n    // Sub function for disappearing\n    function startDisappear() {\n        element.classList.add(\"zcapt-disappear\");\n        element.addEventListener(\"animationend\",() => {\n            element.parentNode.removeChild(element);\n            callback();\n        });\n    }\n};\n\nexports.appear = (element,callback = () => {}) => {\n    /**\n     * Function to make transparent things appear on page gently\n     * @param element DOM element which is going to be appeared on page.\n     */\n\n    // Make sure that the element does have appearing animation\n    if (element.classList.contains(\"zcapt-disappear\")) {\n        callback();\n    }else {\n        element.classList.add(\"zcapt-appear\");\n        element.addEventListener(\"animationend\",() => {\n            element.classList.remove(\"zcapt-appear\");\n            callback();\n        });\n    }\n};","exports.move = (element,moveToX,moveToY) => {\n    /*\n    * Method for moving the element in deceleration mode\n    * */\n    let startX = element.offsetLeft;\n    let startY = element.offsetTop;\n    let deltaX = 0;\n    let deltaY = 0;\n\n    // Verify which direction should the element move to.\n\n    if (startX < moveToX) {\n        // Move to the right\n        deltaX = moveToX - startX;\n        let moveElementRight = () => {\n            element.style.left = element.offsetLeft + deltaX / 5 + \"px\";\n            deltaX = deltaX - deltaX / 5;\n            if (deltaX > 0) {\n                window.requestAnimationFrame(moveElementRight);\n            }\n        };\n\n        window.requestAnimationFrame(moveElementRight);\n    } else {\n        // Move to the left\n        deltaX = startX - moveToX;\n\n        let moveElementLeft = () => {\n            element.style.left = element.offsetLeft - deltaX / 5 + \"px\";\n            deltaX = deltaX - deltaX / 5;\n            if (deltaX > 0) {\n                window.requestAnimationFrame(moveElementLeft);\n            }\n        };\n\n        window.requestAnimationFrame(moveElementLeft);\n    }\n\n    if (startY < moveToY) {\n        // Move down\n        deltaY = moveToY - startY;\n\n        let moveElementDown = () => {\n            element.style.top = element.offsetTop + deltaY / 5 + \"px\";\n            deltaY = deltaY - deltaY / 5;\n            if (deltaY > 0) {\n                window.requestAnimationFrame(moveElementDown);\n            }\n        };\n\n            window.requestAnimationFrame(moveElementDown);\n\n    } else {\n        // Move up\n        deltaY = startY - moveToY;\n\n        let moveElementUp = () => {\n            element.style.top = element.offsetTop - deltaY / 5 + \"px\";\n            deltaY = deltaY - deltaY / 5;\n            if (deltaY > 0) {\n                window.requestAnimationFrame(moveElementUp);\n            }\n        };\n\n        window.requestAnimationFrame(moveElementUp);\n\n    }\n};","exports.buildFrame = (boxid) => {\n    // Create frame\n    let outer = document.createElement(\"div\");\n    outer.classList.add('zcapt-frame');\n    outer.id = \"zcapt-frame\";\n    outer.setAttribute(\"unselectable\", \"on\");\n    outer.onselectstart = ()=> {\n        return false;\n    };\n\n    document.getElementById(boxid).appendChild(outer);\n\n    // Create Loading Layer\n    require('./loading').loading.start();\n};\n\nexports.buildCaptcha = (smallPicUrl, largePicUrl, callback = () => {}) => {\n    /*\n    * method for building the basic framework of captcha (Create the document)\n    * */\n\n    let appearAndDisappear = require('./appearAndDisappear');\n\n    // Number of pictures are loaded\n    let numberOfLoaded = 0;\n\n\n    // Create small picture\n    let smallPicture = new Image();\n    smallPicture.classList.add('zcapt-smallPic');\n    appearAndDisappear.appear(smallPicture);\n    smallPicture.id = \"zcapt-smallPic\";\n    smallPicture.draggable = false;\n    smallPicture.src = smallPicUrl;\n    smallPicture.setAttribute(\"unselectable\", \"on\");\n    smallPicture.onload = loadedCheck;\n\n\n    // Large PIcture\n    let largePicture = new Image();\n    largePicture.classList.add('zcapt-largePic');\n    appearAndDisappear.appear(largePicture);\n    largePicture.draggable = false;\n    largePicture.id = \"zcapt-largePic\";\n    largePicture.setAttribute(\"unselectable\", \"on\");\n    largePicture.src = largePicUrl;\n    largePicture.onload = loadedCheck;\n\n    // Refrash Tag\n    let refreshTag = \"<path class=\\\"zcapt-refresh-fill\\\" d=\\\"M427.408,19.697c-7.803-3.23-14.463-1.902-19.986,3.999l-37.116,36.834C349.94,41.305,326.672,26.412,300.5,15.848C274.328,5.285,247.251,0.003,219.271,0.003c-29.692,0-58.052,5.808-85.08,17.417c-27.03,11.61-50.347,27.215-69.951,46.82c-19.605,19.607-35.214,42.921-46.824,69.949C5.807,161.219,0,189.575,0,219.271c0,29.687,5.807,58.05,17.417,85.079c11.613,27.031,27.218,50.347,46.824,69.952c19.604,19.599,42.921,35.207,69.951,46.818c27.028,11.611,55.388,17.419,85.08,17.419c32.736,0,63.865-6.899,93.363-20.7c29.5-13.795,54.625-33.26,75.377-58.386c1.52-1.903,2.234-4.045,2.136-6.424c-0.089-2.378-0.999-4.329-2.711-5.852l-39.108-39.399c-2.101-1.711-4.473-2.566-7.139-2.566c-3.045,0.38-5.232,1.526-6.566,3.429c-13.895,18.086-30.93,32.072-51.107,41.977c-20.173,9.894-41.586,14.839-64.237,14.839c-19.792,0-38.684-3.854-56.671-11.564c-17.989-7.706-33.551-18.127-46.682-31.261c-13.13-13.135-23.551-28.691-31.261-46.682c-7.708-17.987-11.563-36.874-11.563-56.671c0-19.795,3.858-38.691,11.563-56.674c7.707-17.985,18.127-33.547,31.261-46.678c13.135-13.134,28.693-23.555,46.682-31.265c17.983-7.707,36.879-11.563,56.671-11.563c38.259,0,71.475,13.039,99.646,39.116l-39.409,39.394c-5.903,5.711-7.231,12.279-4.001,19.701c3.241,7.614,8.856,11.42,16.854,11.42h127.906c4.949,0,9.23-1.807,12.848-5.424c3.613-3.616,5.42-7.898,5.42-12.847V36.55C438.542,28.558,434.84,22.943,427.408,19.697z\\\"/>\";\n    let refreshImg = document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");\n    refreshImg.id = \"zcapt-refresh\";\n    appearAndDisappear.appear(refreshImg);\n    refreshImg.setAttribute(\"viewBox\",\"0 0 438.542 438.542\");\n    refreshImg.setAttribute(\"xml:space\",\"preserve\");\n    refreshImg.innerHTML = refreshTag;\n    refreshImg.onclick = () => {\n        require('./rebuilt').everything();\n    };\n\n\n    // Append them to fragment\n    let fragment = document.createDocumentFragment();\n    fragment.appendChild(smallPicture);\n    fragment.appendChild(largePicture);\n    fragment.appendChild(refreshImg);\n\n\n    // Function for loading check.\n    function loadedCheck() {\n        if (numberOfLoaded === 0) { // If non of the picture has already loaded.\n            numberOfLoaded ++;\n        } else {\n            // If one of the picture has already loaded,\n            // render them\n\n\n            require('./loading').loading.end(() => {  // Stop loading\n                document.getElementById(\"zcapt-frame\").appendChild(fragment);\n                callback(null);\n            });\n        }\n    }\n};","let appearAndDisappear = require('./appearAndDisappear');\nexports.loading = {\n    start: (callback = () => {}) => {\n        // Create Loading Layer\n        let loadingLayer = document.createElement(\"div\");\n        loadingLayer.id = \"zcapt-loadingLayer\";\n        loadingLayer.className = \"zcapt-loading\";\n        loadingLayer.innerHTML = \"<div></div><div></div>\";\n        appearAndDisappear.appear(loadingLayer,callback);\n        document.getElementById(\"zcapt-frame\").appendChild(loadingLayer);\n\n        setTimeout(() => {  // Loading Time out\n\n            // Make a large refresh icon\n            let refreshIcon = \"<path class=\\\"zcapt-largeRefresh-fill\\\" d=\\\"M427.408,19.697c-7.803-3.23-14.463-1.902-19.986,3.999l-37.116,36.834C349.94,41.305,326.672,26.412,300.5,15.848C274.328,5.285,247.251,0.003,219.271,0.003c-29.692,0-58.052,5.808-85.08,17.417c-27.03,11.61-50.347,27.215-69.951,46.82c-19.605,19.607-35.214,42.921-46.824,69.949C5.807,161.219,0,189.575,0,219.271c0,29.687,5.807,58.05,17.417,85.079c11.613,27.031,27.218,50.347,46.824,69.952c19.604,19.599,42.921,35.207,69.951,46.818c27.028,11.611,55.388,17.419,85.08,17.419c32.736,0,63.865-6.899,93.363-20.7c29.5-13.795,54.625-33.26,75.377-58.386c1.52-1.903,2.234-4.045,2.136-6.424c-0.089-2.378-0.999-4.329-2.711-5.852l-39.108-39.399c-2.101-1.711-4.473-2.566-7.139-2.566c-3.045,0.38-5.232,1.526-6.566,3.429c-13.895,18.086-30.93,32.072-51.107,41.977c-20.173,9.894-41.586,14.839-64.237,14.839c-19.792,0-38.684-3.854-56.671-11.564c-17.989-7.706-33.551-18.127-46.682-31.261c-13.13-13.135-23.551-28.691-31.261-46.682c-7.708-17.987-11.563-36.874-11.563-56.671c0-19.795,3.858-38.691,11.563-56.674c7.707-17.985,18.127-33.547,31.261-46.678c13.135-13.134,28.693-23.555,46.682-31.265c17.983-7.707,36.879-11.563,56.671-11.563c38.259,0,71.475,13.039,99.646,39.116l-39.409,39.394c-5.903,5.711-7.231,12.279-4.001,19.701c3.241,7.614,8.856,11.42,16.854,11.42h127.906c4.949,0,9.23-1.807,12.848-5.424c3.613-3.616,5.42-7.898,5.42-12.847V36.55C438.542,28.558,434.84,22.943,427.408,19.697z\\\"/>\";\n            let refreshImg = document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");\n            refreshImg.id = \"zcapt-largeRefresh\";\n            refreshImg.innerHTML = refreshIcon;\n            refreshImg.setAttribute(\"viewBox\",\"0 0 438.542 438.542\");\n            refreshImg.setAttribute(\"xml:space\",\"preserve\");\n            refreshImg.onclick = () => {\n                require(\"./rebuilt\").everything();\n            };\n\n            // Replace the loading animation by a large refresh icon.\n            loadingLayer.innerHTML = \"\";\n            loadingLayer.appendChild(refreshImg);\n            loadingLayer.classList.remove(\"zcapt-loading\");\n            loadingLayer.classList.add(\"zcapt-largeRefresh\");\n        }, 20000);\n    },\n    end: (callback = () => {}) => {\n        // Remove Loading Layer\n        appearAndDisappear.disappear(document.getElementById(\"zcapt-loadingLayer\"),callback);\n    }\n};","let animation = require('./appearAndDisappear');\nexports.everything = ()=> {\n    /**\n     * Function for remove everythings about zcapt, and recreate it.\n     */\n    animation.disappear(document.getElementById(\"zcapt-frame\"),() => {\n        require('../initialize/initialize').init(window.zcapt.data.id,window.zcapt.data.conn,window.zcapt.data.size);\n    });\n};\nexports.captcha = () => {\n    /**\n     * Function for create a new captcha, and put new picture on the clients side.\n     */\n    require('../initialize/reinitialize').renewCaptcha()\n};","exports.rebuild = (smallPictureLink,largePictureLink,callback = () => {}) => {\n    /**\n     * Rebuilt picture in view. Replace the old pictures by new one.\n     */\n\n    let numberOfLoaded = 0;\n\n    // Create small picture\n    let smallPicture = new Image();\n    smallPicture.classList.add('zcapt-smallPic');\n    smallPicture.id = \"zcapt-smallPic\";\n    smallPicture.draggable = false;\n    smallPicture.src = smallPictureLink;\n    smallPicture.setAttribute(\"unselectable\", \"on\");\n    smallPicture.onload = loadedCheck;\n\n    // Large PIcture\n    let largePicture = new Image();\n    largePicture.classList.add('zcapt-largePic');\n    largePicture.draggable = false;\n    largePicture.id = \"zcapt-largePic\";\n    largePicture.setAttribute(\"unselectable\", \"on\");\n    largePicture.src = largePictureLink;\n    largePicture.onload = loadedCheck;\n\n    let fragment = document.createDocumentFragment();\n    fragment.appendChild(smallPicture);\n    fragment.appendChild(largePicture);\n\n    // Function for loading check.\n    function loadedCheck() {\n        if (numberOfLoaded === 0) { // If non of the picture has already loaded.\n            numberOfLoaded ++;\n        } else {\n            // If one of the picture has already loaded,\n            // render them\n            let frame = document.getElementById(\"zcapt-frame\");\n            frame.removeChild(document.getElementById(\"zcapt-largePic\"));\n            frame.removeChild(document.getElementById(\"zcapt-smallPic\"));\n            frame.appendChild(fragment);\n            require('./loading').loading.end(() => {\n                callback(null);\n            });\n        }\n    }\n};","exports.verified = () => {\n    /**\n     * For changing the view while captcha is verified.\n     * @type {HTMLElement}\n     */\n\n    let frame = document.getElementById(\"zcapt-frame\");\n    let verifiedLayer = document.createElement(\"div\");\n    verifiedLayer.id = \"zcapt-verified\";\n    verifiedLayer.classList.add(\"zcapt-verified\");\n\n    // Creating SVG icon.\n    // Tick icon\n    let verifiedIcon = document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\");\n    verifiedIcon.innerHTML = \"<polygon class=\\\"zcapt-verified-fill\\\" points=\\\"385.621,62.507 146.225,301.901 21.213,176.891 0,198.104 146.225,344.327 406.834,83.72 \\\"/>\";\n    verifiedIcon.setAttribute(\"viewBox\",\"0 0 406.834 406.834\");\n    verifiedIcon.id = \"zcapt-verified-icon\";\n    require(\"./appearAndDisappear\").appear(verifiedLayer, () => {\n        window.zcapt.onverified();\n    });\n    verifiedLayer.appendChild(verifiedIcon);\n    frame.appendChild(verifiedLayer);\n    require(\"./loading\").loading.end();\n};"],"sourceRoot":""}